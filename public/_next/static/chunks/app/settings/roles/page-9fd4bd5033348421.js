(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{6050:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40865).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},12772:(e,s,a)=>{"use strict";a.d(s,{A0:()=>l,BF:()=>d,Hj:()=>o,XI:()=>n,nA:()=>m,nd:()=>c});var r=a(52273),i=a(85461),t=a(21415);let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,t.cn)("w-full caption-bottom text-sm",a),...i})})});n.displayName="Table";let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("thead",{ref:s,className:(0,t.cn)("[&_tr]:border-b",a),...i})});l.displayName="TableHeader";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,t.cn)("[&_tr:last-child]:border-0",a),...i})});d.displayName="TableBody",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...i})}).displayName="TableFooter";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("tr",{ref:s,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...i})});o.displayName="TableRow";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("th",{ref:s,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...i})});c.displayName="TableHead";let m=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("td",{ref:s,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...i})});m.displayName="TableCell",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("caption",{ref:s,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",a),...i})}).displayName="TableCaption"},20074:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40865).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},21740:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>l});var r=a(52273),i=a(85461),t=a(23999),n=a(21415);let l=t.bL,d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});d.displayName=t.B8.displayName;let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});o.displayName=t.l9.displayName;let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});c.displayName=t.UC.displayName},25573:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40865).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},34017:(e,s,a)=>{"use strict";a.d(s,{RG:()=>y,bL:()=>E,q7:()=>F});var r=a(85461),i=a(50582),t=a(72187),n=a(50300),l=a(3866),d=a(22219),o=a(96367),c=a(66783),m=a(97311),h=a(98219),p=a(52273),u="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[v,g,j]=(0,t.N)(f),[w,y]=(0,l.A)(f,[j]),[N,b]=w(f),C=r.forwardRef((e,s)=>(0,p.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(A,{...e,ref:s})})}));C.displayName=f;var A=r.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:a,orientation:t,loop:l=!1,dir:d,currentTabStopId:v,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:w,onEntryFocus:y,preventScrollOnEntryFocus:b=!1,...C}=e,A=r.useRef(null),S=(0,n.s)(s,A),R=(0,h.jH)(d),[k,E]=(0,m.i)({prop:v,defaultProp:null!=j?j:null,onChange:w,caller:f}),[F,V]=r.useState(!1),L=(0,c.c)(y),D=g(a),T=r.useRef(!1),[O,I]=r.useState(0);return r.useEffect(()=>{let e=A.current;if(e)return e.addEventListener(u,L),()=>e.removeEventListener(u,L)},[L]),(0,p.jsx)(N,{scope:a,orientation:t,dir:R,loop:l,currentTabStopId:k,onItemFocus:r.useCallback(e=>E(e),[E]),onItemShiftTab:r.useCallback(()=>V(!0),[]),onFocusableItemAdd:r.useCallback(()=>I(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>I(e=>e-1),[]),children:(0,p.jsx)(o.sG.div,{tabIndex:F||0===O?-1:0,"data-orientation":t,...C,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,i.m)(e.onMouseDown,()=>{T.current=!0}),onFocus:(0,i.m)(e.onFocus,e=>{let s=!T.current;if(e.target===e.currentTarget&&s&&!F){let s=new CustomEvent(u,x);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){let e=D().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===k),...e].filter(Boolean).map(e=>e.ref.current),b)}}T.current=!1}),onBlur:(0,i.m)(e.onBlur,()=>V(!1))})})}),S="RovingFocusGroupItem",R=r.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:a,focusable:t=!0,active:n=!1,tabStopId:l,children:c,...m}=e,h=(0,d.B)(),u=l||h,x=b(S,a),f=x.currentTabStopId===u,j=g(a),{onFocusableItemAdd:w,onFocusableItemRemove:y,currentTabStopId:N}=x;return r.useEffect(()=>{if(t)return w(),()=>y()},[t,w,y]),(0,p.jsx)(v.ItemSlot,{scope:a,id:u,focusable:t,active:n,children:(0,p.jsx)(o.sG.span,{tabIndex:f?0:-1,"data-orientation":x.orientation,...m,ref:s,onMouseDown:(0,i.m)(e.onMouseDown,e=>{t?x.onItemFocus(u):e.preventDefault()}),onFocus:(0,i.m)(e.onFocus,()=>x.onItemFocus(u)),onKeyDown:(0,i.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void x.onItemShiftTab();if(e.target!==e.currentTarget)return;let s=function(e,s,a){var r;let i=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===s&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===s&&["ArrowUp","ArrowDown"].includes(i)))return k[i]}(e,x.orientation,x.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=j().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)a.reverse();else if("prev"===s||"next"===s){"prev"===s&&a.reverse();let r=a.indexOf(e.currentTarget);a=x.loop?function(e,s){return e.map((a,r)=>e[(s+r)%e.length])}(a,r+1):a.slice(r+1)}setTimeout(()=>M(a))}}),children:"function"==typeof c?c({isCurrentTabStop:f,hasTabStop:null!=N}):c})})});R.displayName=S;var k={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:s}),document.activeElement!==a))return}var E=C,F=R},76299:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(40865).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},87063:(e,s,a)=>{"use strict";a.d(s,{$v:()=>f,EO:()=>h,Lt:()=>d,Rx:()=>v,Zr:()=>g,ck:()=>u,r7:()=>x,tv:()=>o,wd:()=>p});var r=a(52273),i=a(85461),t=a(4862),n=a(21415),l=a(97320);let d=t.bL,o=t.l9,c=t.ZL,m=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i,ref:s})});m.displayName=t.hJ.displayName;let h=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsx)(t.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i})]})});h.displayName=t.UC.displayName;let p=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};p.displayName="AlertDialogHeader";let u=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="AlertDialogFooter";let x=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold",a),...i})});x.displayName=t.hE.displayName;let f=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...i})});f.displayName=t.VY.displayName;let v=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.rc,{ref:s,className:(0,n.cn)((0,l.r)(),a),...i})});v.displayName=t.rc.displayName;let g=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.ZD,{ref:s,className:(0,n.cn)((0,l.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...i})});g.displayName=t.ZD.displayName},95031:(e,s,a)=>{Promise.resolve().then(a.bind(a,96441))},96441:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>k});var r=a(52273),i=a(85461),t=a(10298),n=a(97320),l=a(77444),d=a(54434),o=a(82521),c=a(21740),m=a(17352),h=a(38064),p=a(12772),u=a(99419),x=a(87063),f=a(24991),v=a(76299),g=a(20074),j=a(25573),w=a(49798),y=a(5892),N=a(6050),b=a(88584),C=a(25289);let A=[{id:"dashboard.view",name:"View Dashboard",description:"Access to main dashboard",category:"Dashboard"},{id:"overview.view",name:"View Overview",description:"Access to overview page",category:"Dashboard"},{id:"shipments.view",name:"View Shipments",description:"View shipment information",category:"Shipments"},{id:"shipments.create",name:"Create Shipments",description:"Create new shipments",category:"Shipments"},{id:"shipments.edit",name:"Edit Shipments",description:"Modify existing shipments",category:"Shipments"},{id:"shipments.delete",name:"Delete Shipments",description:"Remove shipments",category:"Shipments"},{id:"shipments.track",name:"Track Shipments",description:"Access shipment tracking",category:"Shipments"},{id:"orders.view",name:"View Orders",description:"View order information",category:"Orders"},{id:"orders.create",name:"Create Orders",description:"Create new orders",category:"Orders"},{id:"orders.edit",name:"Edit Orders",description:"Modify existing orders",category:"Orders"},{id:"orders.cancel",name:"Cancel Orders",description:"Cancel orders",category:"Orders"},{id:"orders.schedule",name:"Schedule Orders",description:"Schedule order deliveries",category:"Orders"},{id:"fleet.view",name:"View Fleet",description:"View fleet information",category:"Fleet"},{id:"fleet.manage",name:"Manage Fleet",description:"Manage fleet operations",category:"Fleet"},{id:"fleet.maintenance",name:"Fleet Maintenance",description:"Manage vehicle maintenance",category:"Fleet"},{id:"drivers.view",name:"View Drivers",description:"View driver information",category:"Fleet"},{id:"drivers.manage",name:"Manage Drivers",description:"Manage driver assignments",category:"Fleet"},{id:"warehouses.view",name:"View Warehouses",description:"View warehouse information",category:"Warehouses"},{id:"warehouses.manage",name:"Manage Warehouses",description:"Manage warehouse operations",category:"Warehouses"},{id:"inventory.view",name:"View Inventory",description:"View inventory levels",category:"Warehouses"},{id:"inventory.manage",name:"Manage Inventory",description:"Manage inventory operations",category:"Warehouses"},{id:"clients.view",name:"View Clients",description:"View client information",category:"Clients"},{id:"clients.manage",name:"Manage Clients",description:"Manage client relationships",category:"Clients"},{id:"vendors.view",name:"View Vendors",description:"View vendor information",category:"Vendors"},{id:"vendors.manage",name:"Manage Vendors",description:"Manage vendor relationships",category:"Vendors"},{id:"reports.view",name:"View Reports",description:"Access to reports",category:"Reports"},{id:"reports.export",name:"Export Reports",description:"Export report data",category:"Reports"},{id:"reports.schedule",name:"Schedule Reports",description:"Schedule automated reports",category:"Reports"},{id:"settings.view",name:"View Settings",description:"Access to settings",category:"Settings"},{id:"settings.manage",name:"Manage Settings",description:"Modify system settings",category:"Settings"},{id:"users.view",name:"View Users",description:"View user information",category:"Administration"},{id:"users.manage",name:"Manage Users",description:"Manage user accounts",category:"Administration"},{id:"roles.manage",name:"Manage Roles",description:"Manage roles and permissions",category:"Administration"}],S=[{id:"1",name:"Super Admin",description:"Full system access with all permissions",permissions:A.map(e=>e.id),userCount:2,isSystem:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01"},{id:"2",name:"Fleet Manager",description:"Manages fleet operations and drivers",permissions:["dashboard.view","overview.view","fleet.view","fleet.manage","fleet.maintenance","drivers.view","drivers.manage","shipments.view","shipments.track","reports.view"],userCount:5,isSystem:!1,createdAt:"2024-01-15",updatedAt:"2024-02-10"},{id:"3",name:"Warehouse Manager",description:"Manages warehouse operations and inventory",permissions:["dashboard.view","overview.view","warehouses.view","warehouses.manage","inventory.view","inventory.manage","orders.view","orders.edit","reports.view"],userCount:8,isSystem:!1,createdAt:"2024-01-15",updatedAt:"2024-02-05"},{id:"4",name:"Operations Coordinator",description:"Coordinates shipments and orders",permissions:["dashboard.view","overview.view","shipments.view","shipments.create","shipments.edit","shipments.track","orders.view","orders.create","orders.edit","orders.schedule"],userCount:12,isSystem:!1,createdAt:"2024-01-20",updatedAt:"2024-02-15"},{id:"5",name:"Customer Service",description:"Handles customer inquiries and basic operations",permissions:["dashboard.view","shipments.view","shipments.track","orders.view","clients.view","clients.manage"],userCount:15,isSystem:!1,createdAt:"2024-01-25",updatedAt:"2024-02-08"},{id:"6",name:"Viewer",description:"Read-only access to most system data",permissions:["dashboard.view","overview.view","shipments.view","orders.view","fleet.view","warehouses.view","inventory.view","clients.view","vendors.view"],userCount:25,isSystem:!1,createdAt:"2024-02-01",updatedAt:"2024-02-01"}],R=[{id:"1",name:"John Smith",email:"john@cargomax.com",role:"Super Admin",status:"active",lastLogin:"2024-12-28 14:30"},{id:"2",name:"Sarah Johnson",email:"sarah@cargomax.com",role:"Fleet Manager",status:"active",lastLogin:"2024-12-28 13:45"},{id:"3",name:"Mike Wilson",email:"mike@cargomax.com",role:"Warehouse Manager",status:"active",lastLogin:"2024-12-28 12:15"},{id:"4",name:"Emily Davis",email:"emily@cargomax.com",role:"Operations Coordinator",status:"active",lastLogin:"2024-12-28 11:30"},{id:"5",name:"David Brown",email:"david@cargomax.com",role:"Customer Service",status:"inactive",lastLogin:"2024-12-27 16:20"}];function k(){let[e,s]=(0,i.useState)(S),[a,k]=(0,i.useState)(R),[M,E]=(0,i.useState)(null),[F,V]=(0,i.useState)(!1),[L,D]=(0,i.useState)(!1),[T,O]=(0,i.useState)(!1),[I,B]=(0,i.useState)(""),[U,z]=(0,i.useState)("all"),[J,P]=(0,i.useState)({name:"",description:"",permissions:[]}),[W,$]=(0,i.useState)(null),[_,G]=(0,i.useState)(null),[Z,H]=(0,i.useState)(""),q=["all",...Array.from(new Set(A.map(e=>e.category)))],K=A.filter(e=>{let s=e.name.toLowerCase().includes(I.toLowerCase())||e.description.toLowerCase().includes(I.toLowerCase()),a="all"===U||e.category===U;return s&&a}),X=()=>{W&&(s(e.map(e=>e.id===W.id?{...W,updatedAt:new Date().toISOString().split("T")[0]}:e)),$(null),D(!1))},Y=()=>{_&&Z&&(k(a.map(e=>e.id===_.id?{...e,role:Z}:e)),s(e.map(e=>e.name===_.role?{...e,userCount:Math.max(0,e.userCount-1)}:e.name===Z?{...e,userCount:e.userCount+1}:e)),G(null),H(""),O(!1))},Q=(e,s,a)=>{a(s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(C.default,{pageTitle:"Roles & Permissions",pageDes:"Manage user roles and system permissions"}),(0,r.jsxs)(c.tU,{defaultValue:"roles",className:"space-y-6",children:[(0,r.jsxs)(c.j7,{className:"flex flex-wrap justify-start sm:w-max h-max",children:[(0,r.jsx)(c.Xi,{value:"roles",children:"Roles Management"}),(0,r.jsx)(c.Xi,{value:"users",children:"User Assignments"}),(0,r.jsx)(c.Xi,{value:"permissions",children:"Permissions Overview"})]}),(0,r.jsxs)(c.av,{value:"roles",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(l.p,{placeholder:"Search roles...",value:I,onChange:e=>B(e.target.value),className:"pl-10 w-64"})]})}),(0,r.jsxs)(m.lG,{open:F,onOpenChange:V,children:[(0,r.jsx)(m.zM,{asChild:!0,children:(0,r.jsxs)(n.$,{children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Create Role"]})}),(0,r.jsxs)(m.Cf,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)(m.c7,{children:[(0,r.jsx)(m.L3,{children:"Create New Role"}),(0,r.jsx)(m.rr,{children:"Define a new role with specific permissions for your team members."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"role-name",children:"Role Name"}),(0,r.jsx)(l.p,{id:"role-name",value:J.name,onChange:e=>P({...J,name:e.target.value}),placeholder:"Enter role name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"role-description",children:"Description"}),(0,r.jsx)(l.p,{id:"role-description",value:J.description,onChange:e=>P({...J,description:e.target.value}),placeholder:"Enter role description"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[(0,r.jsx)(d.J,{children:"Permissions"}),(0,r.jsxs)(h.l6,{value:U,onValueChange:z,children:[(0,r.jsx)(h.bq,{className:"w-48",children:(0,r.jsx)(h.yv,{placeholder:"Filter by category"})}),(0,r.jsx)(h.gC,{children:q.map(e=>(0,r.jsx)(h.eb,{value:e,children:"all"===e?"All Categories":e},e))})]})]}),(0,r.jsx)("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto",children:q.filter(e=>"all"!==e).map(e=>{let s=K.filter(s=>s.category===e);return 0===s.length?null:(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:e}),(0,r.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.S,{id:"new-".concat(e.id),checked:J.permissions.includes(e.id),onCheckedChange:()=>Q(e.id,J.permissions,e=>P({...J,permissions:e}))}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(d.J,{htmlFor:"new-".concat(e.id),className:"text-sm font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]},e)})})]})]}),(0,r.jsxs)(m.Es,{children:[(0,r.jsx)(n.$,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,r.jsx)(n.$,{onClick:()=>{s([...e,{id:Date.now().toString(),name:J.name,description:J.description,permissions:J.permissions,userCount:0,isSystem:!1,createdAt:new Date().toISOString().split("T")[0],updatedAt:new Date().toISOString().split("T")[0]}]),P({name:"",description:"",permissions:[]}),V(!1)},disabled:!J.name.trim(),children:"Create Role"})]})]})]})]}),(0,r.jsx)("div",{className:"grid gap-4",children:e.filter(e=>e.name.toLowerCase().includes(I.toLowerCase())||e.description.toLowerCase().includes(I.toLowerCase())).map(a=>(0,r.jsxs)(t.Zp,{children:[(0,r.jsx)(t.aR,{children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)(g.A,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{children:a.name}),a.isSystem&&(0,r.jsx)(o.E,{variant:"secondary",children:"System"})]}),(0,r.jsx)(t.BT,{children:a.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(o.E,{variant:"outline",className:"flex items-center space-x-1",children:[(0,r.jsx)(j.A,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:[a.userCount," users"]})]}),(0,r.jsxs)(m.lG,{open:L&&(null==W?void 0:W.id)===a.id,onOpenChange:e=>{D(e),e||$(null)},children:[(0,r.jsx)(m.zM,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>$({...a}),children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(m.Cf,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)(m.c7,{children:[(0,r.jsxs)(m.L3,{children:["Edit Role: ",a.name]}),(0,r.jsx)(m.rr,{children:"Modify role permissions and details."})]}),W&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"edit-role-name",children:"Role Name"}),(0,r.jsx)(l.p,{id:"edit-role-name",value:W.name,onChange:e=>$({...W,name:e.target.value}),disabled:a.isSystem})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"edit-role-description",children:"Description"}),(0,r.jsx)(l.p,{id:"edit-role-description",value:W.description,onChange:e=>$({...W,description:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(d.J,{children:"Permissions"}),(0,r.jsx)("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto",children:q.filter(e=>"all"!==e).map(e=>{let s=A.filter(s=>s.category===e);return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:e}),(0,r.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.S,{id:"edit-".concat(e.id),checked:W.permissions.includes(e.id),onCheckedChange:()=>Q(e.id,W.permissions,e=>$({...W,permissions:e})),disabled:a.isSystem}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(d.J,{htmlFor:"edit-".concat(e.id),className:"text-sm font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]},e)})})]})]}),(0,r.jsxs)(m.Es,{children:[(0,r.jsx)(n.$,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),(0,r.jsx)(n.$,{onClick:X,children:"Save Changes"})]})]})]}),!a.isSystem&&(0,r.jsxs)(x.Lt,{children:[(0,r.jsx)(x.tv,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"outline",size:"sm",children:(0,r.jsx)(y.A,{className:"h-4 w-4 text-red-500"})})}),(0,r.jsxs)(x.EO,{children:[(0,r.jsxs)(x.wd,{children:[(0,r.jsx)(x.r7,{children:"Delete Role"}),(0,r.jsxs)(x.$v,{children:['Are you sure you want to delete the "',a.name,'" role? This action cannot be undone. Users with this role will need to be reassigned.']})]}),(0,r.jsxs)(x.ck,{children:[(0,r.jsx)(x.Zr,{children:"Cancel"}),(0,r.jsx)(x.Rx,{onClick:()=>{var r;return r=a.id,void s(e.filter(e=>e.id!==r))},className:"bg-red-600 hover:bg-red-700",children:"Delete Role"})]})]})]})]})]})}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Permissions:"}),(0,r.jsxs)("span",{className:"font-medium",children:[a.permissions.length," assigned"]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.permissions.slice(0,8).map(e=>{let s=A.find(s=>s.id===e);return s?(0,r.jsx)(o.E,{variant:"secondary",className:"text-xs",children:s.name},e):null}),a.permissions.length>8&&(0,r.jsxs)(o.E,{variant:"outline",className:"text-xs",children:["+",a.permissions.length-8," more"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:["Created: ",a.createdAt]}),(0,r.jsxs)("span",{children:["Updated: ",a.updatedAt]})]})]})})]},a.id))})]}),(0,r.jsxs)(c.av,{value:"users",className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(l.p,{placeholder:"Search users...",className:"pl-10 w-64"})]}),(0,r.jsxs)(h.l6,{children:[(0,r.jsx)(h.bq,{className:"w-48",children:(0,r.jsx)(h.yv,{placeholder:"Filter by role"})}),(0,r.jsxs)(h.gC,{children:[(0,r.jsx)(h.eb,{value:"all",children:"All Roles"}),e.map(e=>(0,r.jsx)(h.eb,{value:e.name,children:e.name},e.id))]})]})]})}),(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{children:"User Role Assignments"}),(0,r.jsx)(t.BT,{children:"Manage user role assignments and permissions"})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsxs)(p.XI,{className:"whitespace-nowrap",children:[(0,r.jsx)(p.A0,{children:(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nd,{children:"User"}),(0,r.jsx)(p.nd,{children:"Email"}),(0,r.jsx)(p.nd,{children:"Current Role"}),(0,r.jsx)(p.nd,{children:"Status"}),(0,r.jsx)(p.nd,{children:"Last Login"}),(0,r.jsx)(p.nd,{children:"Actions"})]})}),(0,r.jsx)(p.BF,{children:a.map(s=>(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nA,{className:"font-medium",children:s.name}),(0,r.jsx)(p.nA,{children:s.email}),(0,r.jsx)(p.nA,{children:(0,r.jsx)(o.E,{variant:"Super Admin"===s.role?"default":"secondary",children:s.role})}),(0,r.jsx)(p.nA,{children:(0,r.jsx)(o.E,{variant:"active"===s.status?"default":"secondary",children:s.status})}),(0,r.jsx)(p.nA,{className:"text-sm text-gray-600",children:s.lastLogin}),(0,r.jsx)(p.nA,{children:(0,r.jsxs)(m.lG,{open:T&&(null==_?void 0:_.id)===s.id,onOpenChange:e=>{O(e),e||(G(null),H(""))},children:[(0,r.jsx)(m.zM,{asChild:!0,children:(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{G(s),H(s.role)},children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"Assign Role"]})}),(0,r.jsxs)(m.Cf,{children:[(0,r.jsxs)(m.c7,{children:[(0,r.jsxs)(m.L3,{children:["Assign Role to ",s.name]}),(0,r.jsx)(m.rr,{children:"Select a new role for this user. This will change their system permissions."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Current Role"}),(0,r.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg",children:(0,r.jsx)(o.E,{children:s.role})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"new-role",children:"New Role"}),(0,r.jsxs)(h.l6,{value:Z,onValueChange:H,children:[(0,r.jsx)(h.bq,{children:(0,r.jsx)(h.yv,{placeholder:"Select a role"})}),(0,r.jsx)(h.gC,{children:e.map(e=>(0,r.jsx)(h.eb,{value:e.name,children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsxs)(o.E,{variant:"outline",className:"ml-2",children:[e.permissions.length," permissions"]})]})},e.id))})]})]}),Z&&Z!==s.role&&(0,r.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:["This will change the user's permissions from ",s.role," to ",Z,"."]})})]}),(0,r.jsxs)(m.Es,{children:[(0,r.jsx)(n.$,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),(0,r.jsx)(n.$,{onClick:Y,disabled:!Z||Z===s.role,children:"Assign Role"})]})]})]})})]},s.id))})]})})]})]}),(0,r.jsxs)(c.av,{value:"permissions",className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(l.p,{placeholder:"Search permissions...",value:I,onChange:e=>B(e.target.value),className:"pl-10 w-64"})]}),(0,r.jsxs)(h.l6,{value:U,onValueChange:z,children:[(0,r.jsx)(h.bq,{className:"w-48",children:(0,r.jsx)(h.yv,{placeholder:"Filter by category"})}),(0,r.jsx)(h.gC,{children:q.map(e=>(0,r.jsx)(h.eb,{value:e,children:"all"===e?"All Categories":e},e))})]})]})}),(0,r.jsx)("div",{className:"grid gap-6",children:q.filter(e=>"all"!==e).map(s=>{let a=K.filter(e=>e.category===s);return 0===a.length?null:(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsxs)(t.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)(b.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:s}),(0,r.jsxs)(o.E,{variant:"outline",children:[a.length," permissions"]})]}),(0,r.jsxs)(t.BT,{children:["Permissions related to ",s.toLowerCase()," functionality"]})]}),(0,r.jsx)(t.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:a.map(s=>{let a=e.filter(e=>e.permissions.includes(s.id));return(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h4",{className:"font-medium",children:s.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:s.description})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[a.length," role",1!==a.length?"s":""]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.slice(0,3).map(e=>(0,r.jsx)(o.E,{variant:"secondary",className:"text-xs",children:e.name},e.id)),a.length>3&&(0,r.jsxs)(o.E,{variant:"outline",className:"text-xs",children:["+",a.length-3]})]})]})]},s.id)})})})]},s)})})]})]})]})}},99419:(e,s,a)=>{"use strict";a.d(s,{S:()=>d});var r=a(52273),i=a(85461),t=a(82891),n=a(74137),l=a(21415);let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(t.bL,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...i,children:(0,r.jsx)(t.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=t.bL.displayName}},e=>{e.O(0,[2960,4400,2472,2081,4726,8250,4970,8804,7358],()=>e(e.s=95031)),_N_E=e.O()}]);